# pyTCC - Topological Cluster Classification in Python



## Introduction

This package aims to provide a stand-alone Python interface for the [TCC](https://github.com/royallgroup/TCC) software.

## Install

The package is on pypi, and you can install it with the following command.

```sh
python3 -m pip install pyTCC --user
```

Alternativly, you can also clone the repository from GitHub and install, with the following command.

```sh
git clone --recurse-submodules git@github.com:yangyushi/pyTCC.git
cd pyTCC
python3 -m pip install . --user
```

## Concept

- This package is a wrapper of the original TCC software.
- Upon installing `pyTCC`, the `TCC` code will be compiled, and the binary executable will be used by `pyTCC`
- There are two main functions of `pyTCC` :
  1. To generate input files for `TCC`
  2. To parse the output file of `TCC`

## Quick Start

### Static Analysis

The standard way to use `TCC` is to analying configurations stored in an XYZ file. In pyTCC the task can be carried out using the following code.

```python
# Specifying the output folder of TCC to be TCC-RESULT
tcc = pyTCC.TCC('TCC-RESULT')

# [optional] Calling the TCC to analyse the xyz file.
tcc.clusters_to_analyse = ['sp5c', '8A']
tcc.run("DATA.xyz", box=[10, 10, 10], raw=True, clusts=True)

# parse the output files generated by TCC
tcc.parse()

tcc.population['sp5c']  # populations of 7A in different frames
tcc.clusters['sp5c']    # for each frame, if a particle belongs to 7A
```

The result of the static analysis will be stored in `TCC-RESULT` folder, and it can be re-analysed without calling `tcc.run`.

### Volatile Analysis (On the Fly)

`pyTCC` also offered a way to analyse coordinates sotred as numpy array, getting the result, and then delete the output on the harddrive.

```python
# Specifying the output folder of TCC to be TCC-RESULT
tcc = pyTCC.TCCOTF()

# generate 10 frames of random points with different particle numbers
coordinates = [np.random.random((500 + i, 3)) * 10 for i in range(10)]

# Calling the TCC to analyse the xyz file.
tcc.clusters_to_analyse = ['sp5c', '8A']
tcc.run(coordinates, box=[10, 10, 10], raw=True, clusts=True)

# parse the output files generated by TCC
tcc.parse()

tcc.population['sp5c']  # populations of 7A in different frames
tcc.clusters['sp5c']    # for each frame, if a particle belongs to 7A
```

The results were sotred inside a temporary folder, and will be deleted uplon the finish of the Python interpreter.
